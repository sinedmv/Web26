<!DOCTYPE html>
<html lang="ru">
{{> head
        description="Редактирование олимпиады"
        keywords="олимпиада, редактировать"
        title="Редактирование олимпиады"
}}
<body class="body">
{{> header pageTitle="Редактирование олимпиады"}}

<main class="main">
    <section class="olympiad-form">
        <h2 class="olympiad-form__title">Редактирование олимпиады</h2>

        <form action="/olympiads/{{olympiad.id}}?_method=PATCH" method="POST" class="form">
            <div class="form__group">
                <label for="name" class="form__label">Название:</label>
                <input type="text" id="name" name="name" value="{{olympiad.name}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="organization" class="form__label">Организация:</label>
                <input type="text" id="organization" name="organization" value="{{olympiad.organization}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="subject" class="form__label">Предмет:</label>
                <input type="text" id="subject" name="subject" value="{{olympiad.subject}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="registrationStartDate" class="form__label">Дата начала регистрации:</label>
                <input type="date" id="registrationStartDate" name="registrationStartDate" value="{{formatDateForInput olympiad.registrationStartDate}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="registrationEndDate" class="form__label">Дата окончания регистрации:</label>
                <input type="date" id="registrationEndDate" name="registrationEndDate" value="{{formatDateForInput olympiad.registrationEndDate}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="olympiadDate" class="form__label">Дата проведения:</label>
                <input type="date" id="olympiadDate" name="olympiadDate" value="{{formatDateForInput olympiad.olympiadDate}}" class="form__input" required>
            </div>

            <div class="form__group">
                <label for="additionalInfo" class="form__label">Дополнительная информация:</label>
                <textarea id="additionalInfo" name="additionalInfo" class="form__textarea">{{olympiad.additionalInfo}}</textarea>
            </div>

            <div class="form__group">
                <label for="participantIds" class="form__label">Участники (ID через запятую):</label>
                <input type="text" id="participantIds" name="participantIds" value="{{#each olympiad.participants}}{{id}}{{#unless @last}},{{/unless}}{{/each}}" class="form__input">
            </div>

            <div class="form__actions">
                <button type="submit" class="btn btn-primary">Сохранить</button>
                <a href="/olympiads/{{olympiad.id}}" class="btn">Отмена</a>
            </div>
        </form>
    </section>
</main>

{{> footer}}
</body>
</html>
